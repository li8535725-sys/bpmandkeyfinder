<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- 1. SEO æ ¸å¿ƒå…ƒç´ : TITLE TAG -->
    <title>å…è´¹åœ¨çº¿BPMå’ŒKey Finderå·¥å…· - éŸ³ä¹èŠ‚æ‹ä¸å’Œå¼¦åˆ†æ</title>
    
    <!-- 2. SEO æ ¸å¿ƒå…ƒç´ : META DESCRIPTION -->
    <meta name="description" content="ä½¿ç”¨æˆ‘ä»¬å…è´¹ã€å¿«é€Ÿçš„åœ¨çº¿å·¥å…·å‡†ç¡®æ£€æµ‹ä»»ä½•æ­Œæ›²çš„BPMï¼ˆèŠ‚æ‹ï¼‰å’ŒéŸ³ä¹è°ƒæ€§ï¼ˆKeyï¼‰ã€‚DJã€éŸ³ä¹åˆ¶ä½œäººã€ä¹æ‰‹å¿…å¤‡çš„éŸ³ä¹åˆ†æç¥å™¨ã€‚">
    
    <!-- 3. Favicon (è¯·æ›¿æ¢æˆä½ çš„å®é™…è·¯å¾„) -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- 4. æ ·å¼ï¼šå†…è” CSS (Internal CSS) - æ–¹ä¾¿æ¼”ç¤ºï¼Œç”Ÿäº§ç¯å¢ƒæ¨èå¤–éƒ¨æ–‡ä»¶ -->
    <style>
        /* 1. CSS Reset & Variables for Consistency and Performance */
        :root {
            --primary-color: #007bff; /* ä¸»é¢˜è“è‰²ï¼Œç”¨äºæŒ‰é’®å’Œé“¾æ¥ */
            --secondary-color: #f8f9fa; /* èƒŒæ™¯æµ…ç°è‰² */
            --text-color: #333;
            --font-family: 'Helvetica Neue', Arial, sans-serif;
            --max-width: 1200px;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            line-height: 1.6;
            color: var(--text-color);
            background-color: #fff; /* é»˜è®¤ç™½è‰²èƒŒæ™¯ */
        }

        /* 2. Layout Structure (Mobile-First) */
        .container {
            /* ç§»åŠ¨ç«¯å…¨å®½ */
            width: 90%; 
            margin: 0 auto;
            padding: 15px 0;
        }

        /* åª’ä½“æŸ¥è¯¢ï¼šå¤§å±å¹•ä¼˜åŒ– */
        @media (min-width: 768px) {
            .container {
                width: 80%;
                max-width: var(--max-width);
            }
        }

        /* 3. Header & Navigation */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 0;
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            color: white;
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: bold;
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 15px; /* ä½¿ç”¨ gap ä»£æ›¿ marginï¼Œç°ä»£ä¸”ç®€æ´ */
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 5px 0;
            transition: opacity 0.3s;
        }

        /* 4. H1/Headings (SEO Hierarchy) */
        .page-title {
            font-size: 2.2rem;
            margin-top: 30px;
            margin-bottom: 20px;
            text-align: center;
            color: var(--primary-color);
        }

        h2 {
            font-size: 1.8rem;
            margin-top: 30px;
            margin-bottom: 15px;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 5px;
        }

        h3 {
             margin-top: 15px;
             margin-bottom: 10px;
        }

        /* 5. Tool Interface (Core Value) */
        .tool-interface {
            background-color: var(--secondary-color);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
            text-align: center;
        }

        .file-label {
            display: block;
            padding: 40px 20px;
            border: 3px dashed var(--primary-color);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            margin-bottom: 15px;
            transition: background-color 0.3s;
        }

        .file-label:hover {
            background-color: #e9ecef;
        }

        #audio-file {
            /* éšè—åŸç”Ÿæ–‡ä»¶è¾“å…¥æ¡†ï¼Œåªæ˜¾ç¤ºè‡ªå®šä¹‰ label */
            display: none; 
        }

        .cta-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
            margin-top: 10px;
        }

        .cta-button:disabled {
            background-color: #adb5bd;
            cursor: not-allowed;
        }

        .manual-bpm-section {
            margin-top: 30px;
            border-top: 1px solid #ccc;
            padding-top: 20px;
        }

        #tap-tempo-button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 10px;
        }

        .results-area {
            margin-top: 20px;
            min-height: 50px;
            padding: 10px;
            background-color: white;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        @media (min-width: 600px) {
            .cta-button {
                width: auto; /* åœ¨æ¡Œé¢ç«¯æŒ‰é’®å¯ä»¥ä¸å æ»¡å®½åº¦ */
            }
        }

        /* 6. SEO Content Styling */
        .seo-content {
            margin-top: 40px;
            padding-top: 15px;
        }
        
        /* 7. Table Styling (For Compatibility List) */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.9rem;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }
        
        /* 8. FAQ/Details Styling */
        details {
            border: 1px solid #eee;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        
        summary {
            font-weight: bold;
            cursor: pointer;
            outline: none;
        }
        
        details p {
            margin-top: 10px;
            padding-left: 10px;
        }


        /* 9. Footer */
        footer {
            background-color: #343a40;
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-top: 50px;
        }

        .footer-links a {
            color: #ced4da;
            margin: 0 10px;
            text-decoration: none;
        }

        /* 10. Accessibility Helper */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
    </style>
</head>
<body>
    <!-- HEADERï¼šç½‘ç«™çš„å¯¼èˆªå’Œå“ç‰Œä¿¡æ¯ -->
    <header>
        <div class="container">
            <!-- LOGO/å“ç‰Œåç§°ï¼šåº”ä½¿ç”¨å›¾ç‰‡æˆ–å¸¦æœ‰ALTå±æ€§çš„æ–‡æœ¬ -->
            <a href="/" class="logo" title="BPM & Key Finder é¦–é¡µ">
                <span aria-hidden="true">ğŸµ</span> BPM & Key Finder
            </a>
            
            <!-- NAVï¼šä¸»å¯¼èˆªèœå•ï¼Œä½¿ç”¨è¯­ä¹‰åŒ– <nav> æ ‡ç­¾ -->
            <nav aria-label="ä¸»å¯¼èˆª">
                <ul>
                    <li><a href="/bpm-finder" title="BPM æµ‹é€Ÿå·¥å…·">BPM Finder</a></li>
                    <li><a href="/key-finder" title="éŸ³ä¹è°ƒæ€§æ£€æµ‹">Key Finder</a></li>
                    <li><a href="/faq">å¸¸è§é—®é¢˜</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- MAINï¼šé¡µé¢çš„æ ¸å¿ƒå†…å®¹å’Œä»·å€¼æ‰€åœ¨ã€‚ä¸€ä¸ªé¡µé¢åªåº”æœ‰ä¸€ä¸ª <main> æ ‡ç­¾ã€‚ -->
    <main id="main-content">
        <div class="container">
            
            <!-- H1ï¼šé¡µé¢çš„ä¸»è¦æ ‡é¢˜ï¼Œå¿…é¡»åŒ…å«æœ€é‡è¦çš„å…³é”®è¯ -->
            <h1 class="page-title">åœ¨çº¿BPMå’ŒKey Finderå·¥å…·</h1>
            
            <!-- SECTIONï¼šå·¥å…·çš„æ ¸å¿ƒåŠŸèƒ½åŒºï¼ˆè¿™æ˜¯ç”¨æˆ·æœ€éœ€è¦çš„éƒ¨åˆ†ï¼Œåº”æ”¾åœ¨æœ€æ˜¾çœ¼çš„ä½ç½®ï¼‰ -->
            <section class="tool-interface" aria-labelledby="tool-heading">
                <!-- éšè—çš„ H2 ç¡®ä¿ SEO å’Œå¯è®¿é—®æ€§ï¼Œä½†è§†è§‰ä¸Šä¸éœ€è¦é‡å¤ H1 -->
                <h2 id="tool-heading" class="visually-hidden">éŸ³ä¹åˆ†æå·¥å…·</h2>
                
                <!-- å·¥å…·å¡ç‰‡ï¼šå®é™…çš„äº’åŠ¨åŒºåŸŸ -->
                <div class="tool-card">
                    <!-- æè¿°ï¼šæ¸…æ™°è¯´æ˜å·¥å…·ç”¨é€” -->
                    <p class="tool-description">ä¸Šä¼ æ‚¨çš„éŸ³é¢‘æ–‡ä»¶ (MP3, WAVç­‰)ï¼Œæˆ‘ä»¬å°†è‡ªåŠ¨åˆ†æå…¶èŠ‚æ‹å’Œè°ƒæ€§ã€‚</p>
                    
                    <!-- æ–‡ä»¶ä¸Šä¼ åŒºåŸŸï¼šä½¿ç”¨è¡¨å•å’Œè¯­ä¹‰åŒ–çš„è¾“å…¥å…ƒç´  -->
                    <form id="file-upload-form" aria-label="ä¸Šä¼ éŸ³ä¹æ–‡ä»¶è¿›è¡Œåˆ†æ">
                        <label for="audio-file" class="file-label">
                            ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°è¿™é‡Œ
                        </label>
                        <!-- input type="file" å¿…é¡»å­˜åœ¨ï¼Œä½†å¯ä»¥è¢« CSS éšè— -->
                        <input type="file" id="audio-file" accept="audio/*" required>
                        <button type="submit" id="analyze-button" class="cta-button" disabled>å¼€å§‹åˆ†æ</button>
                    </form>
                    
                    <!-- ç»“æœå±•ç¤ºåŒº -->
                    <div id="results-area" class="results-area" aria-live="polite">
                        <!-- aria-live="polite" ç¡®ä¿ç»“æœæ›´æ–°æ—¶å±å¹•é˜…è¯»å™¨ä¼šæœ—è¯» -->
                        <p class="result-placeholder">åˆ†æç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º...</p>
                    </div>
                </div>
                
                <!-- æ‰‹åŠ¨BPMè¾“å…¥ï¼ˆæ¬¡è¦åŠŸèƒ½ï¼Œæå‡å…³é”®è¯è¦†ç›–ï¼‰ -->
                <div class="manual-bpm-section">
                    <h3>æ‰‹åŠ¨Tap Tempo BPMè¾“å…¥</h3>
                    <p>æˆ–ä½¿ç”¨æˆ‘ä»¬çš„æ‰‹åŠ¨ Tap Tempo å·¥å…·ï¼š</p>
                    <button id="tap-tempo-button" aria-label="ç‚¹å‡»æµ‹é‡èŠ‚æ‹">Tap èŠ‚æ‹</button>
                    <div id="tapped-bpm-result">BPM: 0</div>
                </div>
            </section>
            
            <!-- SECTIONï¼šSEO å†…å®¹æ”¯æŒåŒº 1 - è°ƒæ€§åˆ†æçš„é‡è¦æ€§ -->
            <section class="seo-content key-analysis" aria-labelledby="key-analysis-heading">
                <h2 id="key-analysis-heading">ä»€ä¹ˆæ˜¯éŸ³ä¹è°ƒæ€§ï¼ˆKeyï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆä½ éœ€è¦çŸ¥é“å®ƒï¼Ÿ</h2>
                <p>äº†è§£æ­Œæ›²çš„è°ƒæ€§æ˜¯è¿›è¡Œ**æ··éŸ³**ã€**é‡‡æ ·**ã€**å’Œå¼¦æ­é…**çš„åŸºç¡€ã€‚æˆ‘ä»¬çš„ **Key Finder** ç®—æ³•åŸºäºå…ˆè¿›çš„éŸ³é¢‘å¤„ç†æŠ€æœ¯å’ŒéŸ³ä¹ç†è®ºï¼Œèƒ½å¤Ÿå‡†ç¡®è¯†åˆ«åŒ…æ‹¬å¤§è°ƒï¼ˆMajorï¼‰å’Œå°è°ƒï¼ˆMinorï¼‰åœ¨å†…çš„å„ç§è°ƒæ€§ã€‚å¯¹äº DJ æ¥è¯´ï¼Œè°ƒæ€§çŸ¥è¯†æ˜¯å®ç°â€œå’Œå£°æ··éŸ³â€ï¼ˆHarmonic Mixingï¼‰çš„å…³é”®ï¼Œå®ƒèƒ½ç¡®ä¿ä¸åŒæ­Œæ›²ä¹‹é—´çš„è¿‡æ¸¡å¬èµ·æ¥æµç•…å’Œè°ï¼Œä»è€Œæå¤§æå‡å¬ä¼—ä½“éªŒã€‚ï¼ˆæ­¤å¤„å»ºè®®å¡«å……æ›´å¤šåŸåˆ›ã€æœ‰ä»·å€¼çš„æ–‡å­—å†…å®¹ï¼Œä»¥æå‡é¡µé¢çš„æƒå¨æ€§ï¼Œå¹¶è‡ªç„¶åµŒå…¥å¦‚â€œCamelot Wheelâ€ã€â€œäº”åº¦åœˆâ€ç­‰ç›¸å…³å…³é”®è¯ã€‚ï¼‰</p>
                <!-- ä½¿ç”¨åˆ—è¡¨æå‡ä¿¡æ¯ç»“æ„ -->
                <ul>
                    <li>ğŸ¯ **DJæ··éŸ³**ï¼šå®ç°å®Œç¾çš„å’Œå£°æ··éŸ³ã€‚</li>
                    <li>ğŸ¼ **éŸ³ä¹åˆ›ä½œ**ï¼šå¿«é€Ÿæ‰¾åˆ°åŒ¹é…çš„å’Œå¼¦æˆ–è½¬è°ƒã€‚</li>
                    <li>ğŸ¤ **æ­Œæ‰‹ä¼´å¥**ï¼šä¸ºæ¼”å”±è€…è°ƒæ•´åˆ°æœ€åˆé€‚çš„éŸ³åŸŸã€‚</li>
                </ul>
            </section>

            <!-- SECTIONï¼šSEO å†…å®¹æ”¯æŒåŒº 2 - BPM åˆ†æçš„é‡è¦æ€§ -->
            <section class="seo-content bpm-analysis" aria-labelledby="bpm-analysis-heading">
                <h2 id="bpm-analysis-heading">BPM Finder å¦‚ä½•è®¡ç®—èŠ‚æ‹ï¼Ÿ</h2>
                <p>BPMï¼Œå³ Beats Per Minuteï¼Œæ˜¯éŸ³ä¹çš„è„‰åŠ¨ã€‚å‡†ç¡®çš„ **BPM Finder** å¯ä»¥å¸®åŠ©éŸ³ä¹åˆ¶ä½œäººåŒ¹é…é¼“ç‚¹é€Ÿåº¦ï¼Œæˆ–å¸®åŠ©å¥èº«æ•™ç»ƒè§„åˆ’è®­ç»ƒå¼ºåº¦ã€‚æˆ‘ä»¬çš„å·¥å…·é€šè¿‡åˆ†æéŸ³é¢‘çš„ç¬æ—¶èƒ½é‡å’Œå‘¨æœŸæ€§æ¨¡å¼æ¥ç¡®å®šå‡†ç¡®çš„èŠ‚æ‹é€Ÿåº¦ï¼Œå³ä½¿æ˜¯å¤æ‚çš„èŠ‚å¥ä¹Ÿèƒ½å‡†ç¡®è¯†åˆ«ã€‚é€šè¿‡åœ¨çº¿å·¥å…·ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿè·å–ç»“æœè€Œæ— éœ€å®‰è£…ä»»ä½•è½¯ä»¶ã€‚ï¼ˆæ­¤å¤„å»ºè®®å¡«å……æ›´å¤šå…³äºç®—æ³•ã€é€Ÿåº¦å’Œå‡†ç¡®åº¦çš„å†…å®¹ã€‚ï¼‰</p>
                
                <!-- ä½¿ç”¨è¡¨æ ¼å±•ç¤ºå…¼å®¹æ€§ï¼Œæœç´¢å¼•æ“å–œæ¬¢ç»“æ„åŒ–æ•°æ® -->
                <h3 class="compatibility-heading">æ–‡ä»¶å…¼å®¹æ€§åˆ—è¡¨</h3>
                <table>
                    <thead>
                        <tr>
                            <th>æ–‡ä»¶æ ¼å¼</th>
                            <th>BPM æ£€æµ‹</th>
                            <th>Key æ£€æµ‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>MP3</td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr>
                        <tr><td>WAV</td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr>
                        <tr><td>FLAC</td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ (å–å†³äºæµè§ˆå™¨æ”¯æŒ)</td></tr>
                        <tr><td>M4A/AAC</td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr>
                    </tbody>
                </table>
            </section>
            
            <!-- SECTIONï¼šFAQ å¸¸è§é—®é¢˜ (æ¨èä½¿ç”¨ Schema Markup: FAQPage) -->
            <section class="faq" aria-labelledby="faq-heading">
                <h2 id="faq-heading">å¸¸è§é—®é¢˜ (FAQ)</h2>
                <!-- æ¯ä¸ªé—®é¢˜éƒ½åº”è¯¥ä½¿ç”¨ H3 æˆ– H4ï¼Œå¹¶ä½¿ç”¨ <details> / <summary> æå‡ç”¨æˆ·ä½“éªŒ -->
                <details>
                    <summary><h3>ä½¿ç”¨æ­¤å·¥å…·æ”¶è´¹å—ï¼Ÿ</h3></summary>
                    <p>æˆ‘ä»¬çš„ BPM & Key Finder å·¥å…·æ˜¯å®Œå…¨å…è´¹çš„ã€‚æˆ‘ä»¬è‡´åŠ›äºä¸ºéŸ³ä¹çˆ±å¥½è€…æä¾›é«˜è´¨é‡çš„åœ¨çº¿æœåŠ¡ï¼Œæœªæ¥å¯èƒ½ä¼šé€šè¿‡å¹¿å‘Šæ”¯æŒè¿è¥ã€‚</p>
                </details>
                <details>
                    <summary><h3>Key Finder çš„å‡†ç¡®ç‡å¦‚ä½•ï¼Ÿ</h3></summary>
                    <p>æˆ‘ä»¬é‡‡ç”¨å…ˆè¿›çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œåœ¨å¹²å‡€ã€æ¸…æ™°çš„éŸ³é¢‘æºä¸Šï¼Œå‡†ç¡®ç‡å¯è¾¾95%ä»¥ä¸Šã€‚ä½†å¯¹äºéŸ³è´¨è¾ƒå·®æˆ–èŠ‚å¥æ¨¡ç³Šçš„éŸ³ä¹ï¼ˆå¦‚ç¯å¢ƒéŸ³ä¹ï¼‰ï¼Œç»“æœå¯èƒ½ä¼šæœ‰åå·®ã€‚</p>
                </details>
                <details>
                    <summary><h3>ä¸Šä¼ çš„æ–‡ä»¶ä¼šè¢«å­˜å‚¨å—ï¼Ÿ</h3></summary>
                    <p>ä¸ä¼šã€‚æ–‡ä»¶ä»…åœ¨æ‚¨çš„æµè§ˆå™¨æˆ–æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šä¸´æ—¶å¤„ç†å¹¶åˆ†æï¼Œåˆ†æå®Œæˆåä¼šç«‹å³åˆ é™¤ï¼Œæˆ‘ä»¬ä¸ä¼šå­˜å‚¨æ‚¨çš„ä»»ä½•éŸ³é¢‘æ–‡ä»¶ã€‚</p>
                </details>
            </section>

        </div>
    </main>

    <!-- FOOTERï¼šç½‘ç«™åº•éƒ¨çš„æ¬¡è¦ä¿¡æ¯å’Œé“¾æ¥ -->
    <footer>
        <div class="container">
            <p>&copy; 2025 BPM & Key Finder. All rights reserved.</p>
            <div class="footer-links">
                <a href="/privacy" title="éšç§æ”¿ç­–">éšç§æ”¿ç­–</a>
                <a href="/terms" title="æœåŠ¡æ¡æ¬¾">æœåŠ¡æ¡æ¬¾</a>
                <a href="/contact" title="è”ç³»æˆ‘ä»¬">è”ç³»æˆ‘ä»¬</a>
            </div>
        </div>
    </footer>
    
    <!-- JavaScript for Functionality (ä¾‹å¦‚ï¼šæ–‡ä»¶ä¸Šä¼ å¤„ç†ã€Tap Tempo é€»è¾‘) -->
    <!-- å®é™…ä»£ç éœ€è¦ä¾èµ– Web Audio API å’Œ Key/BPM æ£€æµ‹åº“æ¥å®ç°æ ¸å¿ƒåŠŸèƒ½ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fileInput = document.getElementById('audio-file');
            const analyzeButton = document.getElementById('analyze-button');
            const resultsArea = document.getElementById('results-area');
            const tapButton = document.getElementById('tap-tempo-button');
            const tappedResult = document.getElementById('tapped-bpm-result');
            
            // --- æ–‡ä»¶ä¸Šä¼ é€»è¾‘ï¼ˆç®€åŒ–ï¼‰---
            fileInput.addEventListener('change', () => {
                if (fileInput.files.length > 0) {
                    analyzeButton.disabled = false;
                    analyzeButton.textContent = `åˆ†æ: ${fileInput.files[0].name}`;
                } else {
                    analyzeButton.disabled = true;
                    analyzeButton.textContent = 'å¼€å§‹åˆ†æ';
                }
            });

            analyzeButton.addEventListener('click', (e) => {
                e.preventDefault();
                if (fileInput.files.length > 0) {
                    resultsArea.innerHTML = '<p>æ­£åœ¨åˆ†æä¸­... (æ­¤å¤„å°†è°ƒç”¨åç«¯æˆ–WebAssemblyåº“è¿›è¡ŒéŸ³é¢‘å¤„ç†)</p>';
                    
                    // æ¨¡æ‹Ÿå¼‚æ­¥åˆ†æè¿‡ç¨‹
                    setTimeout(() => {
                        // å‡è®¾åˆ†æç»“æœ
                        const bpm = Math.floor(Math.random() * 60) + 90; // 90-150
                        const keys = ['C Major', 'A Minor', 'G Major', 'F Minor'];
                        const key = keys[Math.floor(Math.random() * keys.length)];
                        
                        resultsArea.innerHTML = `
                            <p><strong>æ–‡ä»¶å:</strong> ${fileInput.files[0].name}</p>
                            <p><strong>æ£€æµ‹åˆ°çš„ BPM:</strong> <span style="font-size: 1.5rem; color: var(--primary-color);">${bpm}</span></p>
                            <p><strong>æ£€æµ‹åˆ°çš„è°ƒæ€§ (Key):</strong> <span style="font-size: 1.5rem; color: #dc3545;">${key}</span></p>
                        `;
                    }, 2000); // 2ç§’åè¿”å›ç»“æœ
                }
            });

            // --- Tap Tempo é€»è¾‘ï¼ˆç®€åŒ–ï¼‰---
            let taps = [];
            tapButton.addEventListener('click', () => {
                const now = Date.now();
                
                // ç§»é™¤è¶…è¿‡ 3 ç§’çš„æ—§ç‚¹å‡»
                taps = taps.filter(time => now - time < 3000);
                taps.push(now);

                if (taps.length >= 2) {
                    let totalInterval = 0;
                    for (let i = 1; i < taps.length; i++) {
                        totalInterval += (taps[i] - taps[i-1]);
                    }
                    
                    const averageIntervalMs = totalInterval / (taps.length - 1);
                    const calculatedBPM = Math.round(60000 / averageIntervalMs);

                    tappedResult.innerHTML = `BPM: <span style="font-size: 1.5rem; color: #28a745;">${calculatedBPM}</span> (ç‚¹å‡»æ¬¡æ•°: ${taps.length})`;
                } else {
                     tappedResult.innerHTML = `è¯·è‡³å°‘å†ç‚¹å‡» ${2 - taps.length} æ¬¡`;
                }
            });
            
            // é‡ç½® Tap Tempo
            document.body.addEventListener('keypress', (e) => {
                if (e.key === 'r') {
                    taps = [];
                    tappedResult.innerHTML = 'BPM: 0';
                }
            });
        });
    </script>
</body>
</html>
